\chapter{Related Work}


In diesem Kapitel werden die Grundlagen für die folgenden Kapitel gelegt und Zusammenhänge hergestellt. Im ersten Teil wird zuerst ein Überblick über die Architektur eines Datenbanksystems vor dem Hintergrund der Anfragenoptimierung gegeben. Der für die Optimierung wichtige Begriff des Search Spaces wird erläutert. In ihm können mit Hilfe von Enumeratoren alternative, äquivalente Pläne gefunden werden. Aus diesen Plänen kann  durch eine Kostenschätzung der optimale Plan entwickelt werden. Auch die Techniken der Enumeration und Kostenschätzung werden in ihrer Funktion beschrieben.

Neben diesen Grundbegriffen werden auch konkrete Implementierungen von Datenbanksystemen und deren Anfragenoptimierern besprochen. Neben System R, das die Grundlage für alle weiteren Anfragenoptimierer bildet, wird auch IBMs Starburst Projekt, die Projekte rund um Volcano und Oracles DBMS reflektiert und deren Unterschiede aufgezeigt.

Im nächsten Schritt wird auf die konkrete Implementierung der Suche nach alternativen Plänen am Beispiel von Volcano und dessen regelbasierten Anfragenoptimierer eingegangen. Die Regelsets von \cite{pellenkoft1997complexity}, \cite{pellenkoft1997duplicate} werden abgegbildet.

Nachdem der Aufbau von DBMSen, Anfrageoptimierern und konkrete Beispiele bekannt sind, wird auf die Arbeit von \cite{shanbhag2014optimizing} eingegangen. Die Unvollständigkeit eines Regelsets wird beleuchtet, der Versuchsaufbau besprochen und das neue Regelset erläutert.

All diese Bestandteile bilden die Grundlage und den weiteren Kontext für die Implementierung des regelbasierten Join Enumerators, der im nächsten Kapitel vorgestellt wird.






\section{Grundlagen und Grundbegriffe}

In diesem Teil werden die theoretischen Grundlagen gelegt. Die Architektur eines DBMS ist zentral für die Einordnung der einzelnen Komponenten. Der Search Space ist der Raum in dem der optimale Plan zur Ausführung in der Datenbank gefunden wird. Der Enumerator legt fest, wie dieser Plan gefunden und wie  dessen Bewertung durch eine Kostenschätzung vorgenommen wird.


\input{02_Grundlagen/Architektur.tex}
\input{02_Grundlagen/SearchSpace.tex}
\input{02_Grundlagen/Enumerator.tex}
\input{02_Grundlagen/Kosten.tex}





\section{Datenbanksystme und Anfrageoptimierer}

Der Grundstein für Anfragenoptimierung wurde durch System R gelegt. Das System beinhaltet einen Algorithmus, der mit Hilfe von dynamischer Programmierung, eine optimale Join Order für eine Anfrage bildet. Bei späteren Systemen  wurde die Menge der optimierten Operatoren weiter vergrößert und regelbasierte Optimierungstechniken eingeführt. Ein Beispiel für dieses Systeme ist Starburst, das im Folgenden weiter besprochen wird. Es ist die Weiterentwicklung von System R bei IBM und ist der Prototyp für DB2. Starburst begann mehrere interne Repräsentationen der Anfrage einzuführen genauso wie Grammer-like Regeln zur Kombination von LOLEPOPs in Execution Plans. Ähnlich wie System R nutzt es einen Buttom-up Approach bei der Enumeration. Eine andere Familie an Optimierern fußt auf der Arbeit an EXODUS, aus dem Volcano und schließlich Cascades entstand. Im Gegensatz zu dem Bottom-up Approach nutzt Volcano einen Transformaiven Top down Optimierungsansatz mit Memorization.


Eine Übersicht über die unterschiedlichen Systeme findet sich in \ref{DatabasesOverview}.
\begin{table}[h]
\begin{tabular}{|l|l|l|l|l|}
\hline
{\bf }                & {\bf System R} & {\bf Starburst} & {\bf Volcano} & {\bf Pyro(J)} \\ \hline
{\bf Transformation}  &                &                 &               &               \\ \hline
{\bf Enumeration}     &                &                 &               &               \\ \hline
{\bf Erweiterbarkeit} &                &                 &               &               \\ \hline
\end{tabular}
\label{DatabasesOverview}
\end{table}


\input{03_Related_Work/SystemR.tex}
\input{03_Related_Work/Starburst.tex}
\input{03_Related_Work/Exodus_Volcano_Cascades.tex}
\input{03_Related_Work/Oracle.tex}

\section{Regelsets und Regelerweiterungen}

Regeln und Regelsets, die zum Join-Ordering 
\input{03_Related_Work/Pellenkoft_RuleSet.tex}
\input{03_Related_Work/GraphRule.tex}

